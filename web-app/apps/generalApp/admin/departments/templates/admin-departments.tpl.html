<h2 class="page-header">Wydziały</h2>

<div class="row" angular-busy="vm.promise">
    <dash-tile title="'Dodaj wydział'" class="col-md-3">
        <form name="addEditDepartment" ng-submit="addEditDepartment.$valid && vm.addUpdateDepartment()" novalidate>
            <div class="form-group">
                <label for="name">Nazwa</label>
                <input type="text" ng-model="vm.form.name" class="form-control" id="name"
                       name="name" placeholder="Nazwa" required>
                <div class="validation-error"
                     ng-show="addEditDepartment.$submitted && !addEditDepartment.name.$valid">
                    <span ng-show="addEditDepartment.name.$error.required"
                          ng-bind="'To pole jest wymagane!'"></span>
                </div>
            </div>

            <div class="form-group">
                <label for="shortcut">Skrót</label>
                <input type="text" ng-model="vm.form.shortcut" class="form-control" name="shortcut"
                       id="shortcut"
                       placeholder="Skrót" required>
                <div class="validation-error"
                     ng-show="addEditDepartment.$submitted && !addEditDepartment.shortcut.$valid">
                    <span ng-show="addEditDepartment.shortcut.$error.required"
                          ng-bind="'To pole jest wymagane!'"></span>

                </div>
            </div>


            <div class="text-right">
                <button type="reset" ng-disabled="!vm.form" ng-click="vm.clearForm(addEditDepartment)"
                        class="btn btn-default">Anuluj
                </button>
                <button type="submit" class="btn btn-primary">Wyślij</button>
            </div>
        </form>
    </dash-tile>
<dash-tile title="'Wydziały'" class="col-md-9">
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Nazwa</th>
            <th>Skrót</th>
            <th style="width:50px;"></th>
            <th style="width:50px;"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="department in vm.departments">
            <td ng-bind="department.name"></td>
            <td ng-bind="department.shortcut"></td>
            <td>
                <div class="btn btn-primary" ng-click="vm.editDepartment($index)"><i class="fa fa-pencil"
                                                                                     aria-hidden="true"></i></div>
            </td>
            <td>
                <div class="btn btn-danger" confirm-modal="vm.deleteDepartment(department.id)"><i class="fa fa-times"
                                                                                                  aria-hidden="true"></i>
                </div>
            </td>
        </tr>
        </tbody>

    </table>

</dash-tile>
</div>

